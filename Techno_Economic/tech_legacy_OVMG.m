%% Legacy Technologies
%% Legacy PV
if lpv_on
    %%%[O&M - 1
    %%% PV Capacity (kW) - 2 through end
    pv_legacy = [0.001];
    pv_legacy_cap = [2.15687042638942,1.06756979876453,50.2186018226162,2.07235621412814,2.05355042294947,2.05545392872007,2.07681553267392,2.06541225932772,73.1327676229361,2.07829882976522,2.05806958546891,2.07335592438267,53.7136069337733,2.17918516981243,80.2572101181189,1.04657499883549,1.08149481913839,2.45089847220003,1.08068591654381,0.856879702083762,0.565704849483060,1.33204211962181,0.535758138134866,0.558826038381861,42.4568468191981,0.576841129360970,9.80292616485560,0.533273697778796,0.613173598594610,1.07660221476916,1.15995719834347,0.693930348506132,2.43824752889884,3.83792619373124,2.09211152551487,2.13868865522642,2.13401058640098,1.38857351610908,3.15715805258558,0.783161866550714,1.56618301882906,1.57020114116239,0.665011524872089,1.45265994178789,1.76185839720376,1.81743632300826,2.20868469792141,0.643513336405828,2.06264883674722,1.99773673616898,0.544989718884394,0.622570641535312,0.530139232200963,2.32730748085906,2.22277268874828,2.22213559944844,2.26405213937573,2.21540815421216,2.40411789085435,1.02408320435345,9.81116729052031,2.00357145652401,1.93117370195896,0.641686145876900,1.05477632014706,3.51953661771497,2.50144563054517,2.09467935067840,2.10357279178889,2.15155541476883,2.18791230612597,2.09026644083704,2.20062008857696,2.05696411136716,2.39852278783484,2.20792285774959,2.14214136571390,2.29727739196274,2.14449471771504,2.08696395210264,9.75254835506618,2.08663838543304,2.18957121699669,2.05812052429052,2.11713073930951,2.17562780181730,2.13550329307832,2.21432400354887,2.11247871171771,2.22295170940168,2.06522820015407,18.1102096078277,14.3502994961773,17.5612356731751,0.973063706170300,59.7794313697884,135.090544731001,5.58342161185688,101.720230758922,26.0719626826820,0.0840325398549499,2.06981427720974,49.0866407218307,13.9556883248868,2.01783391242510,1.98513106685944,2.02842149617917,1.97612314433750,2.02179559217495,52.3510516053538,1.06608510632266,2.03760271348114,2.15440394803576,2.09388543652815,28.3603175264265,1.06932284415191,28.6004026660883,51.0913954230040,28.5983022045356,47.2747318114065,2.13516553161051,41.5497404148965,54.1792198142752,48.9735215595210,2.04313881582981,2.15399327632845,41.8204561427313,2.11587972692187,42.8173206594148,48.8292470944058,2.05992480364348,2.44894201229036,2.04533637684317,2.08021832723592,2.16753671423409,2.05830573013732,2.16000631732002,2.32928323756011,2.20461353492907,2.11979796449389,2.01810472977487,2.04907924545729,2.02828057272654,57.7754523639743,2.10579235008385,40.2062114934505,2.11526989290820,2.19271945795373,2.28366351431158,2.10122829053222,2.25327849234516,2.12301058836478,2.15741690713589,2.15214281591297,4.11283026809159,0.639549475602833,2.00535216041997,2.09301848957142,0.829266174443749,0.554514552815860,0.818634171907151,1.97131530786537,0.251309999273559,9.82851630278458,17.7240363062311,18.2466132305134,13.6673518204805,2.53338103184662,41.7099752453232,2.22423130564309,4.21195233857463,2.56616745945840,2.18125670880036,154.106258248319,2.38273430587747,1.07002507641332,0.677496221570996,0.719908652731795,1.09228062874066,28.7014822699944,1.05094322681226,1.26806183281181,2.06704435919734,53.2481122549415,2.01110507760952,2.06665696394531,2.05045190374694,7.89750856224651,2.05412314201144,2.06160132200710,47.2743667710407,2.04852983671141,2.05031349636014,2.05363256045384,2.05898019524478,2.41848971049746,2.22499934456228,2.19849627473979,2.19502284363563,2.20666587261409,2.30338206208785,1.82631550277600,2.17978941407790,17.8321755324701,2.22778910367083,2.26524488107247,2.05807994068449,2.04153917975366,2.33864864466663,2.37790507035854,2.06367435170324,2.06846986596185,1.49393268823724,93.4263010330201,2.28340430873351,2.15802850629705,2.17909228653969,2.35611182654424,2.25457872203856,2.29374361918453,2.17389640266195,2.10988017724894,139.611933710229,48.8619655840471,2.64211216074463,128.496194024669,92.9083422959983,84.7333416281597,77.0582178311802,87.5176734032873,957.004689340468,0.611358781190834,3.66528819372389,0.594088298432730,1.89206359628335,2.02811937871102,0.850018215234598,2.34691204872679,112.882951509856,155.042081640491,0.567161576763632,1.01301455044950,1.84874232225738,2.53398371442723,5.32455763073720,0.884983480060969,1.27531911644089,1.30407499920276,2.47376716373166,3.77454798743073,0.513313909269376,43.3957270856883,1.18538810024314,4.58988458056234,3.06070215858017,3.03627745516675,1.18759985301726,0.839305853406236,0.886873693012364,0.699017869612867,0.704904673497628,1.18363732773811,28.3475550250849,0.559708905177120,0.695167245745836,0.657599287001934,2.11545222776886,2.02234758523899,0.838876919670762,0.682806085245905,0.679513731265024,3.60072419871829,0.651080773661356,2.21989682659627,0.650087698832476,2.28254772573202,2.21989959173867,3.60615803039774,2.30481305548436,2.30513876516480,2.22936551708582,1.25205663140746,1.51535864895426,1.18395197973986,43.9739787056792,0.679212923506593,2.21484537001232,2.32341267907187,2.38870656561215,2.30281422408052,2.32602385729231,1.63401131942853,1.17620533138157,2.16354880924692,57.6937904738829,2.07386058202089,59.2347784132403,2.55377089094472,2.15977821546205,2.13067167912380,2.17153421470328,107.422752834687,34.5676302096355,35.3894899083124,7.08069707497891,1.04697880692212,43.7923969128871,38.8439481594580,1.54875089767398,3.54138016776064,2.15421186249547,2.11409380931856,2.22624979983498,2.14128408882034,2.16353249478811,2.15526480929318,54.3955304102730];
    sum(pv_legacy_cap)
    pv_legacy_cap = [2.16366090698804,1.06794193012505,13.7112983837783,2.07478333031185,2.05519635127674,2.05940524317966,2.07854543781040,2.06654196766375,18.4217196246775,2.07828268118232,2.05806958546891,2.07387279939535,12.1083981874813,2.18898359067405,19.1685541953572,1.04657499883549,1.08180330648861,2.45089847220003,1.08068591654381,0.852024940201649,0.565124536556014,1.32584643269604,0.535036809080031,0.561089929049633,12.8456048125943,0.576841129360970,9.82118699274687,0.533273697778796,0.612735334794482,1.07660221476916,1.16010717203590,0.698410566083873,2.44450168450435,3.81506081027729,2.08633982278616,2.12972220080105,2.12202343552160,1.38806942154350,3.14909651363050,0.782535754717662,1.56512437894858,1.57682315058299,0.695545799597639,1.45265994178789,1.76340210143877,1.81743632300826,2.20972983062522,0.644555607921786,2.06758035985682,2.00141349183348,0.544989718884394,0.622570641535312,0.528444943665973,2.31946584289123,2.22188322966352,2.22213559944844,2.23858802133310,2.20377700446302,2.37743938049618,1.02471196993049,9.61185525330768,2.00509341044005,1.93544217403369,0.640504006346983,1.05634438579375,3.51953661771497,2.50212129664740,2.09104279270727,2.11001890669068,2.15155541476883,2.18791230612597,2.09611313770924,2.20062008857696,2.05343775778973,2.39852278783484,2.20516509440825,2.14909054799864,2.28439812009875,2.15177821945218,2.08736930565010,9.69852019385642,2.08730880109236,2.18568239699831,2.05248276283884,2.12289118433216,2.17772961431928,2.12897700469430,2.21723973535509,2.11247871171771,2.22295170940168,2.06971998277310,17.9921164882345,13.5301430446028,15.6922759217518,32.0560425127633,15.9162597113611,30.4579602874134,15.0041000391944,155.928967760466,37.6620155915291,6.81453558480801,2.06511697543962,102.491020998546,14.1801111353724,2.01783391242510,1.98513106685944,2.02241649751770,1.97934678305946,2.01721975750453,11.7145922875289,1.06608510632266,2.03324692623970,2.14757308312090,2.09337972853241,6.49916994781797,1.06895758907235,6.56824969919809,13.8183840787400,6.56893048825873,13.3838373411417,2.13489699658316,12.7533189750771,14.1931285097604,13.5969171644241,2.04313881582981,2.15399327632845,12.7871790040945,2.12488754456908,12.8956084138315,13.5520900145988,2.05992480364348,2.44894201229036,2.04935052622202,2.08021832723592,2.16753671423409,2.05450974472350,2.16698873539896,2.32858694388514,2.20627139870440,2.11750925343208,2.01381594557350,2.05442317885032,2.02828057272654,50.5996127956565,2.10579235008385,12.6024834721463,2.10830000523186,2.19249286102727,2.28185112981770,2.10993621629879,2.25327849234516,2.12301058836478,2.15741690713589,2.15482968257219,4.11283026809159,0.667448867645275,2.00617432814157,2.09455153721093,0.854397174439442,0.554395998251631,0.823645336605736,1.96305279661244,19.1040820698765,9.98273500851255,19.0575123011913,17.1706501648237,13.6626317500313,2.54066336207022,12.7796413201234,2.22446801305608,4.23449900036682,2.56616745945840,2.18189741478141,139.737679540477,2.38273430587747,1.06754302165114,0.674175839734440,0.695494845837105,1.09410166852390,6.59895095558389,1.05094322681226,1.27219044575746,2.06854389878588,11.9782259407031,2.00673422578551,2.05884993058278,2.04866436196286,7.84943855093475,2.05948145460245,2.06160132200710,13.3842685097328,2.04852983671141,2.05031349636014,2.05854834295399,2.06183800651029,2.41848971049746,2.22499934456228,2.19748123042841,2.19502284363563,2.20666587261409,2.31451174705342,1.82687954569294,2.17978941407790,18.5234495577855,2.22875978668312,2.26672551430689,2.05807994068449,2.03754747531224,2.33864864466663,2.37807913347452,2.07098244150338,2.06990456616534,1.49393268823724,25.9393308468863,2.26129826347318,2.15802850629705,2.18935479434468,2.33028071600888,2.25829898625731,2.30502597011520,2.17489530162034,2.11548354852327,40.3003284107190,13.5706736999317,2.63867128172081,36.4376826691730,25.7669909586747,23.3315359759092,21.1825717662569,24.0629356524131,409.480662709147,0.609840789671731,3.65124251235188,0.591787347224506,1.89126072498936,2.02811937871102,0.876323919942454,2.37400086772524,109.707097257033,159.090931566920,0.559395715086165,1.01301455044950,45.8444613079486,2.53398371442723,5.32455763073720,0.863397219302697,1.26061368297934,1.30407499920276,2.47376716373166,3.75637086090103,0.513313909269376,12.9504545265581,1.18607493395224,4.60181873708996,3.06070215858018,3.01748541228569,1.18759985301726,0.855781692021179,0.878526848409589,0.699148120074693,0.707748828277452,1.18356988096184,6.49538438755194,0.564911872636541,0.681515308787451,0.654618513951573,2.12058580234449,2.02234758523899,0.830843254931418,0.666503643991926,0.677249146001062,3.58536340682856,0.649708810558194,2.21989682659627,0.650235167933564,2.28254772573202,2.21989959173867,3.60615803039774,2.29234982330863,2.32517398087493,2.24118842671265,1.33823830078329,1.50405071451594,1.18374747150839,13.0339808937455,0.652759151705754,2.21439176546023,2.32802359714811,2.36205424515074,2.30281422408052,2.31347499169257,1.63842108661720,1.18233592490338,2.16354880924692,13.2817655127788,2.07386058202089,13.7561806099765,2.57388981608420,2.15358071230595,2.13731156228430,2.17979990493608,110.089421842852,34.6546987359430,35.3894899083124,7.24299399301373,1.04368867038270,13.0155589572784,9.73684951971302,1.54875089767398,3.54193480158029,2.16377083590151,2.11934169835343,2.24124615328629,2.13899326129190,2.15973304114999,2.16361982312357,12.3107527314983];
    sum(pv_legacy_cap)
else
    pv_legacy = [];
    pv_legacy_cap = zeros(1,size(elec,2));
end
   
%% Legacy EES
if lees_on
    %%% [Charge O&M ($/kWh) [1]
    %%% Discharge O&M ($/kWh) [2]
    %%% Minimum state of charge [3]
    %%% Maximum state of charge [4]
    %%% Maximum charge rate (kWh per 15 minute/m^3 storage) [5]
    %%% Maximum discharge rate(kWh per 15 minute/m^3 storage) [6]
    %%% Charging efficiency [7]
    %%% Discharging efficieny [8]
    %%% State of charge holdover [9]
    ees_legacy = [0.001; 0.001; 0.1; 0.95; 0.25; 0.25; .90; .90; .995];
    
    %%%Capacity at each building  [kWh]
    ees_legacy_cap = [10.*ones(1,14)];
else
    ees_legacy = [];
    ees_legacy_cap = zeros(1,size(elec,2));
end


%% Legacy EES
if lrees_on
    %%% [Charge O&M ($/kWh) [1]
    %%% Discharge O&M ($/kWh) [2]
    %%% Minimum state of charge [3]
    %%% Maximum state of charge [4]
    %%% Maximum charge rate (kWh per 15 minute/m^3 storage) [5]
    %%% Maximum discharge rate(kWh per 15 minute/m^3 storage) [6]
    %%% Charging efficiency [7]
    %%% Discharging efficieny [8]
    %%% State of charge holdover [9]
    rees_legacy = [0.001; 0.001; 0.1; 0.95; 0.25; 0.25; .90; .90; .995];
    
    %%%Capacity at each building  [kWh]
    rees_legacy_cap = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16.7076349341417,10.4573912782538,14.2159960151169,1.75183575453771,0,0,10.5638571945635,170.954812317565,35.5342182115477,0.222052811647584,0,79.2107490381030,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,46.1665195184145,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.488763977336497,9.51246754393055,17.3921371766035,15.6361659471357,12.6608130463463,0,0,0,0,0,0,126.804425077074,0,0,0,0,0,0,0,0,0,0,0,0,0,7.22449853876445,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16.5083222942314,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1426.47409718897,0,0,0,0,0,0,0,0,0,0,0,3.19410043258052,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
    sum(rees_legacy_cap)
    rees_legacy_cap = [0,0,80,0,0,0,0,0,80,0,0,0,80,0,100,0,0,0,0,0,0,0,0,0,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11.5736574468488,8.69017784435001,10.5970847102728,36.5960995218074,12.6883040591471,45.6024578834550,25.7009298137080,137.231526640487,33.7203010113011,8.67127844655697,0,102.347734483410,4.55795123986200,0,0,0,0,0,80,0,0,0,0,40,0,40,80,40,80,0,80,80,80,0,0,80,0,80,80,0,0,0,0,0,0,0,0,0,0,0,0,0,29.3447029885391,0,80,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.0730702931568,7.13526825531112,12.3470385376882,11.7858840429042,8.90630208672693,0,80,0,0,0,0,80.8567301138994,0,0,0,0,0,40,0,0,0,80,0,0,0,5.01308515349697,0,0,80,0,0,0,0,0,0,0,0,0,0,0,0,11.3306452284717,0,0,0,0,0,0,0,0,0,19.7837474924755,0,0,0,0,0,0,0,0,28.7376186573828,80,0,27.1062491403930,19.7442945077893,17.3744656890979,16.1475053178096,17.9384353028258,130.099310459003,0,0,0,0,0,0,0,0,0,0,0,50.8025859302494,0,0,0,0,0,0,0,0,80,0,0,0,0,0,0,0,0,0,0,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,80,0,0,0,0,0,0,0,0,0,80,0,80,0,0,0,0,0,0,0,3.24747188580470,0,80,20,0,0,0,0,0,0,0,0,80];
    sum(rees_legacy_cap)
else
    rees_legacy = [];
    rees_legacy_cap = zeros(1,size(elec,2));
end
